<!DOCTYPE html>
<div xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="admin-layout">
    <div layout:fragment = "main_content">
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                 <h1>Session<small>All sessions</small>
                </h1>
            </section>
            <!-- Main content -->
            <section class="content">
              <div class="row">
                 <div class="col-xs-12">
                   <div class="box">
                     <div class="box-header">
                        <h2 class="box-title">Table</h2>
                           <div class="box-tools">
                              <div class="input-group input-group-sm">     
                    <a class="btn btn-success btn-sm bg-navy" th:href="@{/adminstsession/insert}">Create Session</a>               
                </div>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body table-responsive no-padding">
            <div th:if="${#lists.isEmpty(stsession)}"> 
              <h1 class="text-red">No Session Exist</h1>
                <p>Please Click <a class="text-green" th:href="@{/adminstsession/insert}">Create Session</a> button to Create a new session.</p>
             </div>
             
            <div th:if="!${#lists.isEmpty(errormessage)}">
									<div class="alert alert-danger alert-dismissible">
										<button type="button" class="close" data-dismiss="alert"
											aria-hidden="true">X</button>
										<h4>
											<i class="icon fa fa-ban"></i> Alert! <span th:text="${errormessage}"></span>
										</h4>
                                        <p class="text-white" th:text="${error}"></p>
									</div>
			</div>
            
            <div th:if="!${#lists.isEmpty(stsession)}"> 
              <table class="table table-hover">
                <thead class="cf">       		
        		     <tr>
        				<td>Title</td>
        				<td>Condition</td> 
        				<td>Make it</td> 
        				<td>Action</td>       				
                      </tr>
                  </thead>
                  <tbody>  
                <tr th:each="stsession : ${stsession}">
                  <td th:text="${stsession.title}"></td>
                  <td th:text="${stsession.epoch}"></td>
                  <td th:if="${stsession.epoch == T(school.model.school.enumvalue.Epoch).Current}" class="text-red">Current</td>
                  <td th:if="!${stsession.epoch == T(school.model.school.enumvalue.Epoch).Current}" ><a th:href="@{'/adminstsession/make-current/'+${stsession.id}}" class="btn btn-success">Current</a></td>
                  <td><a th:href="@{'/adminstsession/edit-stsession?id=' +${stsession.id}}" class="btn btn-warning">Edit</a>
                  <a th:href="@{'/adminstsession/delete-stsession?id=' +${stsession.id}}" onclick="return confirm('Are you sure you want to delete this item?');" class="btn btn-danger">Delete</a></td>
                </tr>           
                </tbody>  
              </table>
            </div>
            </div>
            <!-- /.box-body -->
            <div class="box-footer">
							<div style="padding:5px;" th:if="${totalpage>=1}">
								<div class="row">
									<div class="box-footer" >
									
										<a th:each="i : ${#numbers.sequence(0, totalpage, 1)}"
											th:href="@{'/adminstsession/index/?page='+${i}}"
											th:text="${i+1}"
											th:classappend="${i}==${currentpage} ? 'btn btn-success' : 'btn btn-default'"></a>
										</div>	
                                 	</div>

								</div>
							</div>
            
          </div>
          <!-- /.box -->
        </div>
                
               </div>

            </section>
            <!-- /.content -->
        </div>
    </div>
</div>